<div class="projectlister">
  <div class="projectTitle">
    <button mat-raised-button color="accent" aria-label="Example icon button with a plus one icon"
      (click)="addnewFolder()">
      <mat-icon>create_new_folder</mat-icon>
      <span> Upload task</span>
    </button>

  </div>
  <div class="float-pro">
    <div class='sort_arrengement'>
      <div class="filters">
        <span class="header_sort">Tasks</span>
        <ul>
          <li (click)="uploadedtasks = true;taskstoworkon= false;uploadtasks = true;tooglearounddiv('all');filtertasks(1)">
            <mat-icon>menu</mat-icon><span> all</span>
          </li>
          <li (click)="uploadedtasks = true;taskstoworkon= false;uploadtasks = true;tooglearounddiv('thisweek');filtertasks(2)">
            <mat-icon>folder_open</mat-icon><span>This week</span>
          </li>
          <li (click)="uploadedtasks = true;taskstoworkon= false;uploadtasks = true;tooglearounddiv('otherweek');filtertasks(3)">
            <mat-icon>folder_special</mat-icon><span>Other weeK</span>
          </li>
          <li (click)="uploadedtasks = true;taskstoworkon= false;uploadtasks = true;tooglearounddiv('lastweek');filtertasks(4)">
            <mat-icon>recent_actors</mat-icon><span>unsubmitted</span>
          </li>
        </ul>
      </div>
      <div class="label">
        <span class="header_sort">Uploaded task</span>
        <ul>
          <li (click)="uploadedtasks = false;taskstoworkon= true;uploadtasks = true">
            <mat-icon>star</mat-icon><span>favorite</span>
          </li>
          <li (click)="uploadedtasks = false;taskstoworkon= true;uploadtasks = true">
            <mat-icon>drafts</mat-icon><span>answer files</span>
          </li>
          <li (click)="uploadedtasks = false;taskstoworkon= true;uploadtasks = true">
            <mat-icon>folder_shared</mat-icon><span>shared files</span>
          </li>
          <li (click)="uploadedtasks = false;taskstoworkon= true;uploadtasks = true">
            <mat-icon>archive</mat-icon><span>ziped files</span>
          </li>

        </ul>
      </div>
    </div>
  </div>
</div>
<div class="directory_marks">
  <div class="directory_header" style="height: 40px">
    <div class="search-container">
      <mat-icon>search</mat-icon>
      <input type="search" placeholder="search files">
    </div>
    <div class="header_symbols">
      <button mat-icon-button>
        <mat-icon>cloud_upload</mat-icon>
      </button>
      <button mat-icon-button (click)="addnewFolder()">
        <mat-icon>create_new_folder</mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon>share</mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon>delete</mat-icon>
      </button>

    </div>
  </div>
  <div class="whole_container">
  <div class="tasks" [hidden]="taskstoworkon">
    <div class="commmoncontainer">
      <div class="recentupload" *ngIf="!tooglebetweetask.all" >
        <p class="title" style="margin-left:0%;">all tasks given</p>
        <div class="assinment_div">
          <div class="filecontainer taskcontainer" *ngFor="let task of tasks | async " (click)="activatetask($event,'taskcontainer')" (contextmenu)="onContextMenu($event,task);activatetask($event,'taskcontainer')">
            <div class="file-image">
              <div class='image'>
                <span>{{task.lesson | short:3}}</span>

              </div>
            </div>
            <div class="file-semidetails">
              <span class="foldername">{{task.taskname}}</span>
              <span><app-time-display [time]="task.updated_at"></app-time-display> </span>
              <span style="margin-left:10px">{{task.givenat | date:"MM/dd/yy' at ' HH:mm"}}</span>
              <button mat-icon-button (click)="onContextMenu($event,task)" >
                <mat-icon>more_vert</mat-icon>
              </button>
            </div>

          </div>
        </div>
      </div>
      <div class="recentupload" *ngIf="!tooglebetweetask.thisweek">
        <p class="title" style="margin-left:0%;">task in this week</p>
        <div class="assinment_div">
          <div class="filecontainer taskcontainer" *ngFor="let task of taskInThisWeek | async  " (click)="activatetask($event,'taskcontainer')" (contextmenu)="onContextMenu($event,task);activatetask($event,'taskcontainer')" >
            <div class="file-image">
              <div class='image'>
                <span>{{task.lesson | short:3}}</span>

              </div>
            </div>
            <div class="file-semidetails">
              <span class="foldername">{{task.taskname}}</span>
              <span><app-time-display [time]="task.endat"></app-time-display> </span>
              <span style="margin-left:10px">{{task.givenat | date:"MM/dd/yy 'at' HH:mm"}}</span>
              <button mat-icon-button (click)="onContextMenu($event,task)" >
                <mat-icon>more_vert</mat-icon>
              </button>
            </div>

          </div>
        </div>
      </div>
      <div class="recentupload"*ngIf="!tooglebetweetask.otherweek">
        <p class="title" style="margin-left:0%;">task in coming weeks</p>
        <div class="assinment_div">
          <div class="filecontainer taskcontainer" *ngFor="let task of taskInotherweek  | async " (click)="activatetask($event,'taskcontainer')" (contextmenu)="onContextMenu($event,task);activatetask($event,'taskcontainer')" >
            <div class="file-image">
              <div class='image'>
                <span>{{task.lesson | short:3}}</span>

              </div>
            </div>
            <div class="file-semidetails">
              <span class="foldername">{{task.taskname}}</span>
              <span><app-time-display [time]="task.endat"></app-time-display> </span>
              <span style="margin-left:10px">{{task.givenat | date:"MM/dd/yy'at' HH:mm"}}</span>
              <button mat-icon-button (click)="onContextMenu($event,task)" >
                <mat-icon>more_vert</mat-icon>
              </button>
            </div>

          </div>
        </div>
      </div>
      <div class="recentupload"*ngIf="!tooglebetweetask.lastweek">
        <p class="title" style="margin-left:0%;">Unsubmitted tasks</p>
        <div class="assinment_div">
          <div class="filecontainer taskcontainer" *ngFor="let task of tasklatesubmits | async  " (click)="activatetask($event,'taskcontainer')" (contextmenu)="onContextMenu($event,task);activatetask($event,'taskcontainer')">
            <div class="file-image">
              <div class='image'>
                <span>{{task.lesson | short:3}}</span>

              </div>
            </div>
            <div class="file-semidetails">
              <span class="foldername">{{task.taskname}}</span>
              <span><app-time-display [time]="task.endat"></app-time-display> </span>
              <span style="margin-left:10px">{{task.givenat| date:"MM/dd/yy'at' HH:mm"}}</span>
              <button mat-icon-button (click)="onContextMenu($event,task)" >
                <mat-icon>more_vert</mat-icon>
              </button>
            </div>

          </div>
        </div>
      </div>
      <context-menu>
        <ng-template contextMenuItem>
          <mat-icon>cloud_download</mat-icon>
          download
        </ng-template>

        <ng-template contextMenuItem (execute)="setRemainder($event.item.id)">
          <mat-icon>date_range</mat-icon>
          set reminder
        </ng-template>
        <ng-template contextMenuItem (execute)="routesubmitt($event.item)">
          <mat-icon>assignment_sent</mat-icon>
          submitt
        </ng-template>
        <ng-template contextMenuItem (execute)="showQuestion($event.item.id)">
          <mat-icon>note</mat-icon>
          show content
        </ng-template>
      </context-menu>
    </div>
  </div>
  <div class="uploadedfile" [hidden]="uploadedtasks">
    <app-explorer [fileElements]="fileElements" [path]="currentPath" [canNavigateUp]="canNavigateUp"
      (folderAdded)="addFolder($event)" (elementRemoved)="removeElement($event)" (gohome)="gethome()"
      (navigatedDown)="navigateToFolder($event)" (navigateFromNav)="navigateFromNav($event)"
      (navigatedUp)="navigateUp()" (elementRenamed)="renameElement($event)" (elementMoved)="moveElement($event)">
    </app-explorer>
  </div>
  <div class="upload-file" *ngIf="!uploadtasks">
    <div class="side_bar_left_with_img">
      <div class="header">
      <h4>short instruction</h4>
      <mat-divider></mat-divider>
      <code >{{currentselectedtask.short}}</code>
      </div>
    </div>
    <div class="profile_content_right">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title>Upload <i>{{currentselectedtask.taskname}}</i> Task</mat-card-title>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content>
         <div class="insideuploader">
            <div class="intro" *ngIf="!ischanged">
                <h4>No recents</h4>
                <p>Drag &amp; Drop to upload or click on button to upload</p>
                <input type="file" #files name="files" (change)="uploadfolder($event);ischanged=true" [hidden]='true'>
                <button mat-raised-button (click)="files.click()"><mat-icon>cloud_upload</mat-icon><span>  choose</span></button>
            </div>
            <div class="uploaded file" *ngIf="ischanged">
              <button mat-raised-button style="margin-left: 40%; margin-bottom: 10px;background:rgb(23, 202, 38);color: white;" (click)="upload(currentselectedtask.id)"><mat-icon>cloud_upload</mat-icon><span>  upload</span></button>
              <ul id="pathlist" >
                <li>
                  <div class="div-overay"
                  role="progressbar"
                  attr.aria-valuenow="{{ selectedpath.value }}"
                  aria-valuemin="0"
                  aria-valuemax="100"
                  [ngStyle]="{ width: selectedpath.value + '%' }"
                  >
                   </div>
                  <div class="fileuploaded">
                    <div class="log-file">{{selectedpath.name | extension}}</div>
                    <div class="file_content">
                     <span>{{selectedpath.name}}</span> <br>
                    <span>12.mb</span>
                    </div>
                    <div class="progress">{{ selectedpath.value }}%</div>
                  </div>
                </li>
              </ul>
            </div>

         </div>
        </mat-card-content>
      </mat-card>
    </div>

  </div>
</div>
</div>
